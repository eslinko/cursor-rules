---
description: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —É—Å–ø–µ—à–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ —Å –∂—ë—Å—Ç–∫–∏–º –∞–Ω–∞–ª–∏–∑–æ–º –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ—Å—Ç–æ–≤
globs: ["**/tests/**/*.test.js", "**/test/**/*.test.js", "**/contracts/tests/**/*.js"]
alwaysApply: true
---

# üß™ Test-to-Success: –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–∞—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤

## üìã –û–±–∑–æ—Ä –ø—Ä–æ—Ü–µ—Å—Å–∞

–≠—Ç–∞ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –æ–ø–∏—Å—ã–≤–∞–µ—Ç –ø–æ—à–∞–≥–æ–≤—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –¥–ª—è —É—Å–ø–µ—à–Ω–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –æ—à–∏–±–æ–∫ –≤ —Ç–µ—Å—Ç–∞—Ö —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã–π –Ω–∞ —Ä–µ–∞–ª—å–Ω–æ–º –æ–ø—ã—Ç–µ –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è **100% —É—Å–ø–µ—à–Ω–æ—Å—Ç–∏ —Ç–µ—Å—Ç–æ–≤** –≤ –ø—Ä–æ–µ–∫—Ç–µ Amanita —Å **–∂—ë—Å—Ç–∫–∏–º –∞–Ω–∞–ª–∏–∑–æ–º –∫–∞—á–µ—Å—Ç–≤–∞** —Å–æ–≥–ª–∞—Å–Ω–æ @test-qualification.mdc.

## üîÑ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–π –∞–ª–≥–æ—Ä–∏—Ç–º –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### –≠—Ç–∞–ø 1: –ü–µ—Ä–≤–∏—á–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∏ –≤—ã—è–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫

#### 1.1 –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –≤—ã—è–≤–ª–µ–Ω–∏—è –ø—Ä–æ–±–ª–µ–º
```bash
# –ë–∞–∑–æ–≤—ã–π –∑–∞–ø—É—Å–∫ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
npx hardhat test

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ —Ç–µ—Å—Ç–æ–≤
npx hardhat test contracts/tests/ContractName.test.js

# –ó–∞–ø—É—Å–∫ —Å –¥–µ—Ç–∞–ª—å–Ω—ã–º –≤—ã–≤–æ–¥–æ–º
npx hardhat test --verbose

# –ó–∞–ø—É—Å–∫ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞
npx hardhat test --grep "Test Name"
```

#### 1.2 –ê–Ω–∞–ª–∏–∑ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ç–µ—Å—Ç–æ–≤
**–ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ `describe` –±–ª–æ–∫–æ–≤ (—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–µ –≥—Ä—É–ø–ø—ã)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ `it` –±–ª–æ–∫–æ–≤ (–∏–Ω–¥–∏–≤–∏–¥—É–∞–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã)
- –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ `beforeEach`/`afterEach` —Ö—É–∫–æ–≤
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ —É—Ç–∏–ª–∏—Ç –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è
- –ü–∞—Ç—Ç–µ—Ä–Ω—ã —Å–æ–∑–¥–∞–Ω–∏—è –∫–æ—à–µ–ª—å–∫–æ–≤ –∏ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤

**–ö–æ–º–∞–Ω–¥—ã –∞–Ω–∞–ª–∏–∑–∞:**
```bash
# –ü–æ–¥—Å—á–µ—Ç —Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã—Ö —ç–ª–µ–º–µ–Ω—Ç–æ–≤
grep -r "describe\|it\|beforeEach\|afterEach" contracts/tests/ | wc -l

# –ê–Ω–∞–ª–∏–∑ –ø–∞—Ç—Ç–µ—Ä–Ω–æ–≤ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è
grep -r "expect.*reverted" contracts/tests/ | wc -l
grep -r "console.log" contracts/tests/ | wc -l
grep -r "ethers.Wallet.createRandom" contracts/tests/ | wc -l
```

### –≠—Ç–∞–ø 2: –ñ—ë—Å—Ç–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ—Å—Ç–æ–≤ (@test-qualification.mdc)

#### 2.1 –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –∞–Ω–∞–ª–∏–∑ –ª–æ–∂–Ω—ã—Ö —É—Å–ø–µ—Ö–æ–≤ (P0)

**NO_FALSE_SUCCESSES - –¢–µ—Å—Ç—ã –Ω–µ –¥–æ–ª–∂–Ω—ã –ø—Ä–æ—Ö–æ–¥–∏—Ç—å –ø—Ä–∏ —Ä–µ–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö**

**–ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**
```javascript
// ‚ùå –õ–û–ñ–ù–´–ô –£–°–ü–ï–•: –¢–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç, –Ω–æ —Ñ—É–Ω–∫—Ü–∏—è –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
it("Should mint invite", async function () {
    const tx = await contract.mintInvite("TEST", 0);
    expect(tx).to.not.be.undefined; // ‚ùå –°–ª–∏—à–∫–æ–º —Å–ª–∞–±–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
});

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–û: –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
it("Should mint invite", async function () {
    const tx = await contract.mintInvite("TEST", 0);
    const receipt = await tx.wait();
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–±—ã—Ç–∏–µ
    const event = receipt.logs.find(log => {
        const parsed = contract.interface.parseLog(log);
        return parsed.name === "InviteMinted";
    });
    expect(event).to.not.be.undefined;
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞
    expect(await contract.inviteCodeToTokenId("TEST")).to.equal(0);
    expect(await contract.inviteCodeExists("TEST")).to.be.true;
});
```

**VALIDATE_REAL_FUNCTIONALITY - –¢–µ—Å—Ç –¥–æ–ª–∂–µ–Ω –ø—Ä–æ–≤–µ—Ä—è—Ç—å —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ —Ä–µ–∞–ª—å–Ω—ã–º —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è–º**

**–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ –¥–ª—è SpiralEngine:**
1. **–ú–∏–Ω—Ç–∏–Ω–≥ –∏–Ω–≤–∞–π—Ç–æ–≤** - `mintInvite()` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏
2. **–ê–∫—Ç–∏–≤–∞—Ü–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π** - `activateUser()` —Å —Å–æ–∑–¥–∞–Ω–∏–µ–º 12 –Ω–æ–≤—ã—Ö –∏–Ω–≤–∞–π—Ç–æ–≤
3. **–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ —Ä–æ–ª–µ–π** - `grantSellerRole()` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –∞–∫—Ç–∏–≤–∞—Ü–∏–∏
4. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∏–Ω–≤–∞–π—Ç–æ–≤** - `_validateInviteCode()` —Å –ø—Ä–æ–≤–µ—Ä–∫–æ–π –ø—Ä–∞–≤
5. **–°–∏—Å—Ç–µ–º–∞ —Å–∞–Ω–∫—Ü–∏–π** - `suspendUser()` —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è–º–∏
6. **SBT –¥–µ–ª–µ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ** - –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å `SoulIdentity`

#### 2.2 –ê–Ω–∞–ª–∏–∑ –ø–æ–∫—Ä—ã—Ç–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π (P0)

**NO_UNTESTED_CRITICAL_PATHS - –í—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–∫—Ä—ã—Ç—ã**

**–®–∞–±–ª–æ–Ω –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø–æ–∫—Ä—ã—Ç–∏—è:**
```yaml
critical_paths:
  - name: "mintInvite_functionality"
    functions: ["mintInvite"]
    requirements:
      - "–ü—Ä–æ–≤–µ—Ä–∫–∞ —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç–∏ invite –∫–æ–¥–æ–≤"
      - "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ SELLER_ROLE"
      - "–≠–º–∏—Å—Å–∏—è —Å–æ–±—ã—Ç–∏—è InviteMinted"
      - "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å—á–µ—Ç—á–∏–∫–æ–≤ –∏ –º–∞–ø–ø–∏–Ω–≥–æ–≤"
    
  - name: "activateUser_functionality"
    functions: ["activateUser", "_validateInviteCode"]
    requirements:
      - "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ ACTIVATOR_ROLE"
      - "–í–∞–ª–∏–¥–∞—Ü–∏—è invite –∫–æ–¥–∞"
      - "–°–æ–∑–¥–∞–Ω–∏–µ 12 –Ω–æ–≤—ã—Ö –∏–Ω–≤–∞–π—Ç–æ–≤"
      - "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
      - "–≠–º–∏—Å—Å–∏—è —Å–æ–±—ã—Ç–∏—è UserActivated"
    
  - name: "role_management"
    functions: ["grantSellerRole"]
    requirements:
      - "–ü—Ä–æ–≤–µ—Ä–∫–∞ –∞–∫—Ç–∏–≤–∞—Ü–∏–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è"
      - "–ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–æ–ª–∏ ACTIVATOR_ROLE"
      - "–û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –º–∞–ø–ø–∏–Ω–≥–∞ sellerNominator"
      - "–≠–º–∏—Å—Å–∏—è —Å–æ–±—ã—Ç–∏—è SellerRoleGranted"
```

#### 2.3 –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–∏–∫–∏ —Ç–µ—Å—Ç–æ–≤ (P1)

**CORRECT_LOGIC - –¢–µ—Å—Ç—ã –¥–æ–ª–∂–Ω—ã —Å–æ–¥–µ—Ä–∂–∞—Ç—å –≤–∞–ª–∏–¥–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏**

**–ü—Ä–æ–≤–µ—Ä—è–µ–º—ã–µ –ø–∞—Ç—Ç–µ—Ä–Ω—ã:**
```javascript
// ‚ùå –ù–ï–ü–†–ê–í–ò–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
it("Should activate user", async function () {
    await contract.activateUser(inviteCode, user, newCodes, 0);
    expect(await contract.totalInvitesMinted()).to.be.greaterThan(0); // ‚ùå –°–ª–∞–±–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞
});

// ‚úÖ –ü–†–ê–í–ò–õ–¨–ù–ê–Ø –õ–û–ì–ò–ö–ê: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
it("Should activate user", async function () {
    await contract.activateUser(inviteCode, user, newCodes, 0);
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –æ—Å–Ω–æ–≤–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
    expect(await contract.usedInviteByUser(user)).to.equal(tokenId + 1);
    expect(await contract.userActivator(user)).to.equal(activator);
    expect(await contract.isInviteUsed(tokenId)).to.be.true;
    
    // –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤—ã—Ö –∏–Ω–≤–∞–π—Ç–æ–≤
    for (let i = 0; i < newCodes.length; i++) {
        const newTokenId = await contract.inviteCodeToTokenId(newCodes[i]);
        expect(newTokenId).to.equal(i + 1);
        expect(await contract.inviteMinter(newTokenId)).to.equal(user);
    }
});
```

#### 2.4 –ê–Ω–∞–ª–∏–∑ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–∫–æ–≤ (P2)

**MINIMAL_MOCK_OVERUSE - –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–∫–æ–≤**

**–ü—Ä–∞–≤–∏–ª–∞ –¥–ª—è —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤:**
- ‚úÖ **–ú–æ–∫–∞–µ–º —Ç–æ–ª—å–∫–æ –≤–Ω–µ—à–Ω–∏–µ —Å–µ—Ä–≤–∏—Å—ã** (IPFS, Oracle, –≤–Ω–µ—à–Ω–∏–µ API)
- ‚ùå **–ù–ï –º–æ–∫–∞–µ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã** - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ —ç–∫–∑–µ–º–ø–ª—è—Ä—ã
- ‚úÖ **–ò—Å–ø–æ–ª—å–∑—É–µ–º Hardhat Network** –¥–ª—è –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤
- ‚ùå **–ù–ï –º–æ–∫–∞–µ–º blockchain state** - —Ä–∞–±–æ—Ç–∞–µ–º —Å —Ä–µ–∞–ª—å–Ω—ã–º —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º

### –≠—Ç–∞–ø 3: –î–µ—Ç–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –æ—à–∏–±–æ–∫ –≤ –∂—É—Ä–Ω–∞–ª–µ

#### 3.1 –ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—à–∏–±–æ–∫ –ø–æ —Ç–∏–ø–∞–º

**A. –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (70% —Å–ª—É—á–∞–µ–≤)**
- –ö–æ–Ω—Ñ–ª–∏–∫—Ç—ã —Å–æ—Å—Ç–æ—è–Ω–∏–π –º–µ–∂–¥—É —Ç–µ—Å—Ç–∞–º–∏
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–∞—è –∏–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
- –ü—Ä–æ–±–ª–µ–º—ã —Å —É–Ω–∏–∫–∞–ª—å–Ω–æ—Å—Ç—å—é –¥–∞–Ω–Ω—ã—Ö
- –û—à–∏–±–∫–∏ –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ —Ç–µ—Å—Ç–æ–≤

**B. –¢–µ—Ö–Ω–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ (20% —Å–ª—É—á–∞–µ–≤)**
- –ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ–∂–∏–¥–∞–Ω–∏—è (expect)
- –ü—Ä–æ–±–ª–µ–º—ã —Å —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö
- –û—à–∏–±–∫–∏ –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–µ —Ä–æ–ª–µ–π –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- –ü—Ä–æ–±–ª–µ–º—ã —Å —Å–µ—Ç—å—é –∏ –ø—Ä–æ–≤–∞–π–¥–µ—Ä–∞–º–∏

**C. –ò–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–Ω—ã–µ –æ—à–∏–±–∫–∏ (10% —Å–ª—É—á–∞–µ–≤)**
- –ü—Ä–æ–±–ª–µ–º—ã —Å –¥–µ–ø–ª–æ–µ–º –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- –û—à–∏–±–∫–∏ –≤ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ Hardhat
- –ü—Ä–æ–±–ª–µ–º—ã —Å –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—è–º–∏

#### 3.2 –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –∂—É—Ä–Ω–∞–ª–µ

**–®–∞–±–ª–æ–Ω –∞–Ω–∞–ª–∏–∑–∞ –æ—à–∏–±–∫–∏:**
```markdown
#### üî¥ –ü—Ä–æ–±–ª–µ–º–∞ X: "–ù–∞–∑–≤–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞"

**–¢–µ–∫—É—â–µ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ**:
```
–û–∂–∏–¥–∞–ª–æ—Å—å: 'Expected message'
–ü–æ–ª—É—á–µ–Ω–æ: 'Actual error message'
```

**–ê–Ω–∞–ª–∏–∑ –∫–æ—Ä–Ω–µ–≤–æ–π –ø—Ä–∏—á–∏–Ω—ã**:
1. **–ö–æ–Ω—Ç–µ–∫—Å—Ç**: –û–ø–∏—Å–∞–Ω–∏–µ —Å–∏—Ç—É–∞—Ü–∏–∏
2. **–ü—Ä–æ–±–ª–µ–º–∞ –≤ –ª–æ–≥–∏–∫–µ**: –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –Ω–µ —Ä–∞–±–æ—Ç–∞–µ—Ç
3. **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ—Å—Ç—å —Å–æ–±—ã—Ç–∏–π**: –ü–æ—à–∞–≥–æ–≤–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ
4. **–¢–µ—Ö–Ω–∏—á–µ—Å–∫–∞—è –ø—Ä–∏—á–∏–Ω–∞**: –ü–æ—á–µ–º—É –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞

**–ê–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞ —Ç–µ—Å—Ç–∞ (@test-qualification.mdc)**:
- **P0 - –õ–æ–∂–Ω—ã–µ —É—Å–ø–µ—Ö–∏**: [–û–ø–∏—Å–∞–Ω–∏–µ –ª–æ–∂–Ω—ã—Ö —É—Å–ø–µ—Ö–æ–≤]
- **P0 - –ü–æ–∫—Ä—ã—Ç–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π**: [–ö–∞–∫–∏–µ –ø—É—Ç–∏ –Ω–µ –ø–æ–∫—Ä—ã—Ç—ã]
- **P1 - –õ–æ–≥–∏–∫–∞ —Ç–µ—Å—Ç–∞**: [–ü—Ä–æ–±–ª–µ–º—ã –≤ –ª–æ–≥–∏–∫–µ –ø—Ä–æ–≤–µ—Ä–æ–∫]
- **P2 - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–∫–æ–≤**: [–ü—Ä–æ–±–ª–µ–º—ã —Å –º–æ–∫–∞–º–∏]

**–ê–¥–µ–∫–≤–∞—Ç–Ω–æ—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è**:
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω–æ**: –û–ø–∏—Å–∞–Ω–∏–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ —Ä–µ—à–µ–Ω–∏—è
- ‚ùå **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω–æ**: –û–ø–∏—Å–∞–Ω–∏–µ –Ω–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã—Ö –ø–æ–¥—Ö–æ–¥–æ–≤
```

### –≠—Ç–∞–ø 4: –ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

#### 4.1 –°–æ–∑–¥–∞–Ω–∏–µ acceptance criteria

```yaml
acceptance_criteria:
  - name: "unique_identifier"
    description: "–û–ø–∏—Å–∞–Ω–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è"
    test: "–ö–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π —Ç–µ—Å—Ç –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏"
    priority: "high|medium|low"
    quality_gates:
      - "NO_FALSE_SUCCESSES: –¢–µ—Å—Ç –Ω–µ –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö"
      - "VALIDATE_REAL_FUNCTIONALITY: –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ä–µ–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å"
      - "NO_UNTESTED_CRITICAL_PATHS: –ü–æ–∫—Ä—ã–≤–∞–µ—Ç –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏"
      - "CORRECT_LOGIC: –°–æ–¥–µ—Ä–∂–∏—Ç –≤–∞–ª–∏–¥–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏"
  
  - name: "isolation_requirement"
    description: "–¢—Ä–µ–±–æ–≤–∞–Ω–∏–µ –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤"
    test: "–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ —Ç–µ—Å—Ç–æ–≤"
    priority: "high"
    quality_gates:
      - "MINIMAL_MOCK_OVERUSE: –ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–∫–æ–≤"
```

#### 4.2 –ü—Ä–∏–æ—Ä–∏—Ç–∏–∑–∞—Ü–∏—è –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 1 (P0 - –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ)**: 
- –õ–æ–∂–Ω—ã–µ —É—Å–ø–µ—Ö–∏ –≤ —Ç–µ—Å—Ç–∞—Ö
- –ù–µ–ø–æ–∫—Ä—ã—Ç—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏
- –û—à–∏–±–∫–∏, –±–ª–æ–∫–∏—Ä—É—é—â–∏–µ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 2 (P1 - –í—ã—Å–æ–∫–∏–µ)**: 
- –õ–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏ –≤ —Ç–µ—Å—Ç–∞—Ö
- –û—à–∏–±–∫–∏ –≤ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç 3 (P2 - –°—Ä–µ–¥–Ω–∏–µ)**: 
- –ü—Ä–æ–±–ª–µ–º—ã —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º –º–æ–∫–æ–≤
- –£–ª—É—á—à–µ–Ω–∏—è –∏ –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏

### –≠—Ç–∞–ø 5: –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ @run-task.mdc

#### 5.1 –°—Ç—Ä—É–∫—Ç—É—Ä–∞ ItemY –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

**ItemY1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∂–Ω—ã—Ö —É—Å–ø–µ—Ö–æ–≤ (P0)**
- –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è
- –í—ã—è–≤–ª–µ–Ω–∏–µ –ª–æ–∂–Ω—ã—Ö —É—Å–ø–µ—Ö–æ–≤
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–æ–∫ –¥–ª—è —Ä–µ–∞–ª—å–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–≤–µ—Ä–∫–∏ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π

**ItemY2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ (P1)**
- –ê–Ω–∞–ª–∏–∑ –ª–æ–≥–∏–∫–∏ —Ç–µ—Å—Ç–æ–≤
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ expect —É—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–π
- –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ä–æ–ª–µ–π –∏ —Ä–∞–∑—Ä–µ—à–µ–Ω–∏–π
- –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∏

**ItemY3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–∫–æ–≤ (P2)**
- –ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–∏—Ö –º–æ–∫–æ–≤
- –ó–∞–º–µ–Ω–∞ –º–æ–∫–æ–≤ –Ω–∞ —Ä–µ–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã
- –£–ª—É—á—à–µ–Ω–∏–µ –∏–∑–æ–ª—è—Ü–∏–∏ —Ç–µ—Å—Ç–æ–≤
- –î–æ–±–∞–≤–ª–µ–Ω–∏–µ edge case —Ç–µ—Å—Ç–æ–≤

#### 5.2 –ü–∞—Ç—Ç–µ—Ä–Ω—ã –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π

**A. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∂–Ω—ã—Ö —É—Å–ø–µ—Ö–æ–≤**
```javascript
// –ü—Ä–æ–±–ª–µ–º–∞: –°–ª–∞–±–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏
// –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–µ–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞

// –ë—ã–ª–æ
expect(tx).to.not.be.undefined;

// –°—Ç–∞–ª–æ
const receipt = await tx.wait();
const event = receipt.logs.find(log => {
    const parsed = contract.interface.parseLog(log);
    return parsed.name === "ExpectedEvent";
});
expect(event).to.not.be.undefined;
expect(await contract.getState()).to.equal(expectedState);
```

**B. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ–∫—Ä—ã—Ç–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π**
```javascript
// –ü—Ä–æ–±–ª–µ–º–∞: –ù–µ–ø–æ–∫—Ä—ã—Ç—ã–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏
// –†–µ—à–µ–Ω–∏–µ: –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Ç–µ—Å—Ç–æ–≤ –¥–ª—è –≤—Å–µ—Ö —Ñ—É–Ω–∫—Ü–∏–π

// –î–æ–±–∞–≤–ª—è–µ–º —Ç–µ—Å—Ç –¥–ª—è –∫–∞–∂–¥–æ–π –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–π —Ñ—É–Ω–∫—Ü–∏–∏
it("Should validate invite code correctly", async function () {
    // –¢–µ—Å—Ç–∏—Ä—É–µ–º _validateInviteCode –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ –∞–∫—Ç–∏–≤–∞—Ü–∏—é
    await expect(
        contract.activateUser(invalidInvite, user, newCodes, 0)
    ).to.be.revertedWith("SpiralEngine: invite code not found");
});
```

**C. –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏–∫–∏ —Ç–µ—Å—Ç–æ–≤**
```javascript
// –ü—Ä–æ–±–ª–µ–º–∞: –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ–±–æ—á–Ω—ã—Ö —ç—Ñ—Ñ–µ–∫—Ç–æ–≤
// –†–µ—à–µ–Ω–∏–µ: –ü—Ä–æ–≤–µ—Ä–∫–∞ –æ—Å–Ω–æ–≤–Ω–æ–π —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏

// –ë—ã–ª–æ
expect(await contract.totalInvitesMinted()).to.be.greaterThan(0);

// –°—Ç–∞–ª–æ
expect(await contract.usedInviteByUser(user)).to.equal(tokenId + 1);
expect(await contract.userActivator(user)).to.equal(activator);
expect(await contract.isInviteUsed(tokenId)).to.be.true;
```

### –≠—Ç–∞–ø 6: –í–∞–ª–∏–¥–∞—Ü–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤

#### 6.1 –ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

```bash
# –ü—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥–æ–≥–æ ItemY –æ—Ç–¥–µ–ª—å–Ω–æ
npx hardhat test --grep "Specific Test Name"

# –ü—Ä–æ–≤–µ—Ä–∫–∞ –≥—Ä—É–ø–ø—ã —Ç–µ—Å—Ç–æ–≤
npx hardhat test --grep "Test Group Name"

# –§–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≤—Å–µ—Ö —Ç–µ—Å—Ç–æ–≤
npx hardhat test
```

#### 6.2 –ú–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

**–¶–µ–ª–µ–≤—ã–µ –ø–æ–∫–∞–∑–∞—Ç–µ–ª–∏:**
- ‚úÖ 100% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤
- ‚ö° –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è < 10 —Å–µ–∫—É–Ω–¥
- üìä –ü–æ–∫—Ä—ã—Ç–∏–µ –≤—Å–µ—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π
- üîç –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
- üéØ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ @test-qualification.mdc

### –≠—Ç–∞–ø 7: –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∏ –∫–æ–º–º–∏—Ç

#### 7.1 –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–∞

```markdown
## ‚úÖ –†–ï–ó–£–õ–¨–¢–ê–¢–´ –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø

### üéØ –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
- ItemY1: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–∂–Ω—ã—Ö —É—Å–ø–µ—Ö–æ–≤ (P0)
- ItemY2: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫ (P1)
- ItemY3: –û–ø—Ç–∏–º–∏–∑–∞—Ü–∏—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –º–æ–∫–æ–≤ (P2)

### üìä –§–∏–Ω–∞–ª—å–Ω—ã–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
**–°—Ç–∞—Ç—É—Å —Ç–µ—Å—Ç–æ–≤**: ‚úÖ X –∏–∑ X —Ç–µ—Å—Ç–æ–≤ (100% —É—Å–ø–µ—Ö–∞)
**–í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è**: ~X —Å–µ–∫—É–Ω–¥
**–ü–æ–∫—Ä—ã—Ç–∏–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π**: [–¥–µ—Ç–∞–ª–∏]
**–°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ @test-qualification.mdc**: ‚úÖ –í—Å–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã
```

#### 7.2 –ö–æ–º–º–∏—Ç –∏–∑–º–µ–Ω–µ–Ω–∏–π

```bash
git add contracts/ContractName.sol contracts/tests/ContractName.test.js
git commit -m "fix: –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –æ—à–∏–±–∫–∏ –≤ ContractName.test.js

- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω—ã –ª–æ–∂–Ω—ã–µ —É—Å–ø–µ—Ö–∏ (P0)
- –ü–æ–∫—Ä—ã—Ç—ã –≤—Å–µ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏ (P0)
- –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∞ –ª–æ–≥–∏–∫–∞ —Ç–µ—Å—Ç–æ–≤ (P1)
- –û–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–∫–æ–≤ (P2)
- –†–µ–∑—É–ª—å—Ç–∞—Ç: X/X —Ç–µ—Å—Ç–æ–≤ (100% —É—Å–ø–µ—Ö–∞)
- –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ @test-qualification.mdc: ‚úÖ"
```

## üéØ –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –ø—Ä–∏–Ω—Ü–∏–ø—ã –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏

### 1. –ñ—ë—Å—Ç–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞
- **–ù–µ –ø—Ä–∏–Ω–∏–º–∞–µ–º —É—Å–ø–µ—Ö–∏ –Ω–∞ –≤–µ—Ä—É** - –ø—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∞–ª—å–Ω—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å
- **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏–µ –ø—É—Ç–∏** - –≤—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–æ–ª–∂–Ω—ã –±—ã—Ç—å –ø–æ–∫—Ä—ã—Ç—ã
- **–ü—Ä–æ–≤–µ—Ä—è–µ–º –ª–æ–≥–∏–∫—É —Ç–µ—Å—Ç–æ–≤** - –≤–∞–ª–∏–¥–Ω—ã–µ –ø—Ä–æ–≤–µ—Ä–∫–∏, –Ω–µ –ø–æ–±–æ—á–Ω—ã–µ —ç—Ñ—Ñ–µ–∫—Ç—ã
- **–ú–∏–Ω–∏–º–∏–∑–∏—Ä—É–µ–º –º–æ–∫–∏** - –∏—Å–ø–æ–ª—å–∑—É–µ–º —Ä–µ–∞–ª—å–Ω—ã–µ –∫–æ–Ω—Ç—Ä–∞–∫—Ç—ã

### 2. –°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥
- **–ù–µ –∏—Å–ø—Ä–∞–≤–ª—è–µ–º –≤—Å–µ —Å—Ä–∞–∑—É** - —Ä–∞–±–æ—Ç–∞–µ–º –ø–æ –æ–¥–Ω–æ–º—É ItemY –∑–∞ —Ä–∞–∑
- **–í–∞–ª–∏–¥–∏—Ä—É–µ–º –∫–∞–∂–¥–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** –ø–µ—Ä–µ–¥ –ø–µ—Ä–µ—Ö–æ–¥–æ–º –∫ —Å–ª–µ–¥—É—é—â–µ–º—É
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä—É–µ–º –∫–∞–∂–¥–æ–µ —Ä–µ—à–µ–Ω–∏–µ** –≤ –∂—É—Ä–Ω–∞–ª–µ

### 3. –ì–ª—É–±–æ–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–æ—Ä–Ω–µ–≤—ã—Ö –ø—Ä–∏—á–∏–Ω
- **–ù–µ –ª–µ—á–∏–º —Å–∏–º–ø—Ç–æ–º—ã** - –∏—â–µ–º –∫–æ—Ä–Ω–µ–≤—É—é –ø—Ä–∏—á–∏–Ω—É
- **–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º –ª–æ–≥–∏–∫—É –∫–æ–Ω—Ç—Ä–∞–∫—Ç–∞** - –ø–æ–Ω–∏–º–∞–µ–º, –ø–æ—á–µ–º—É –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –æ—à–∏–±–∫–∞
- **–ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–µ–∞–ª—å–Ω—ã–π –∫–æ–Ω—Ç—Ä–∞–∫—Ç** - –∏–∑–±–µ–≥–∞–µ–º –ª–æ–∂–Ω—ã—Ö —É—Å–ø–µ—Ö–æ–≤

### 4. –ò–∑–æ–ª—è—Ü–∏—è —Ç–µ—Å—Ç–æ–≤
- **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞
- **–ù–µ–∑–∞–≤–∏—Å–∏–º–æ—Å—Ç—å —Ç–µ—Å—Ç–æ–≤** - –∫–∞–∂–¥—ã–π –¥–æ–ª–∂–µ–Ω —Ä–∞–±–æ—Ç–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
- **–ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–æ–ª–µ–π** –≤ beforeEach

### 5. –î–µ—Ç–∞–ª—å–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
```javascript
// –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ —É—Ç–∏–ª–∏—Ç—ã –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏
async function logContractState(context) { /* ... */ }
async function logTransactionDetails(tx, operation) { /* ... */ }
function logEventDetails(event, eventName) { /* ... */ }
async function logUserRoles(userAddress, userName) { /* ... */ }
```

### 6. –ü–æ–∫—Ä—ã—Ç–∏–µ edge cases
- **–ì—Ä–∞–Ω–∏—á–Ω—ã–µ —É—Å–ª–æ–≤–∏—è** - –º–∞–∫—Å–∏–º–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è, —Å–ø–µ—Ü–∏–∞–ª—å–Ω—ã–µ —Å–∏–º–≤–æ–ª—ã
- **–û—à–∏–±–∫–∏ –≤–∞–ª–∏–¥–∞—Ü–∏–∏** - –Ω—É–ª–µ–≤—ã–µ –∞–¥—Ä–µ—Å–∞, –∏—Å—Ç–µ–∫—à–∏–µ —É—Å–ª–æ–≤–∏—è
- **–û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è —Ä–æ–ª–µ–π** - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –±–µ–∑ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã—Ö —Ä–æ–ª–µ–π
- **–ì–∞–∑–æ–≤—ã–µ –ª–∏–º–∏—Ç—ã** - —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏

## üìä –£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω—ã–µ –º–µ—Ç—Ä–∏–∫–∏ —É—Å–ø–µ—Ö–∞

### –î–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚ùå X –∏–∑ Y —Ç–µ—Å—Ç–æ–≤ (Z% —É—Å–ø–µ—Ö–∞)
- üî¥ N –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- ‚ùå M –ª–æ–∂–Ω—ã—Ö —É—Å–ø–µ—Ö–æ–≤
- ‚ùå K –Ω–µ–ø–æ–∫—Ä—ã—Ç—ã—Ö –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π

### –ü–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π:
- ‚úÖ Y –∏–∑ Y —Ç–µ—Å—Ç–æ–≤ (100% —É—Å–ø–µ—Ö–∞)
- üéØ M –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö edge case —Ç–µ—Å—Ç–æ–≤
- ‚ö° –í—Ä–µ–º—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è: ~X —Å–µ–∫—É–Ω–¥
- ‚úÖ –°–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ @test-qualification.mdc: 100%

## üîÑ –ü—Ä–∏–º–µ–Ω–µ–Ω–∏–µ –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏–∏

### –î–ª—è –Ω–æ–≤—ã—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:
1. **–ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤** ‚Üí –≤—ã—è–≤–ª–µ–Ω–∏–µ –æ—à–∏–±–æ–∫
2. **–ñ—ë—Å—Ç–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞** ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ @test-qualification.mdc
3. **–ê–Ω–∞–ª–∏–∑ –≤ –∂—É—Ä–Ω–∞–ª–µ** ‚Üí –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
4. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí —Å–æ–∑–¥–∞–Ω–∏–µ acceptance criteria
5. **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** ‚Üí —á–µ—Ä–µ–∑ @run-task.mdc
6. **–í–∞–ª–∏–¥–∞—Ü–∏—è** ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–∞–∂–¥–æ–≥–æ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è
7. **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∂—É—Ä–Ω–∞–ª–∞ —Å —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º–∏

### –î–ª—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Ç–µ—Å—Ç–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:
1. **–ê–Ω–∞–ª–∏–∑ —Ç–µ–∫—É—â–µ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è** ‚Üí –≤—ã—è–≤–ª–µ–Ω–∏–µ –ø—Ä–æ–±–ª–µ–º
2. **–ñ—ë—Å—Ç–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞** ‚Üí –ø—Ä–æ–≤–µ—Ä–∫–∞ @test-qualification.mdc
3. **–ö–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏—è –æ—à–∏–±–æ–∫** ‚Üí –ø–æ —Ç–∏–ø–∞–º –∏ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞–º
4. **–ü–ª–∞–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–π** ‚Üí —Å—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–π –ø–æ–¥—Ö–æ–¥
5. **–ü–æ—Å–ª–µ–¥–æ–≤–∞—Ç–µ–ª—å–Ω–æ–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ** ‚Üí –ø–æ ItemY
6. **–í–∞–ª–∏–¥–∞—Ü–∏—è –∏ –¥–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** ‚Üí —Ñ–∏–Ω–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞

## üéâ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–î–∞–Ω–Ω–∞—è –º–µ—Ç–æ–¥–æ–ª–æ–≥–∏—è –æ–±–µ—Å–ø–µ—á–∏–≤–∞–µ—Ç:
- **100% —É—Å–ø–µ—à–Ω–æ—Å—Ç—å** —Ç–µ—Å—Ç–æ–≤ —Å–º–∞—Ä—Ç-–∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤
- **–ñ—ë—Å—Ç–∫–∏–π –∞–Ω–∞–ª–∏–∑ –∫–∞—á–µ—Å—Ç–≤–∞** —Å–æ–≥–ª–∞—Å–Ω–æ @test-qualification.mdc
- **–°–∏—Å—Ç–µ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –ø–æ–¥—Ö–æ–¥** –∫ –æ—Ç–ª–∞–¥–∫–µ
- **–î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ** –≤—Å–µ—Ö —Ä–µ—à–µ–Ω–∏–π
- **–ü–æ–≤—Ç–æ—Ä—è–µ–º–æ—Å—Ç—å** –ø—Ä–æ—Ü–µ—Å—Å–∞ –¥–ª—è –ª—é–±—ã—Ö —Ç–µ—Å—Ç–æ–≤
- **–ö–∞—á–µ—Å—Ç–≤–µ–Ω–Ω—ã–π –∫–æ–¥** —Å –ø–æ–ª–Ω—ã–º –ø–æ–∫—Ä—ã—Ç–∏–µ–º –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏—Ö –ø—É—Ç–µ–π
- **–£–Ω–∏–≤–µ—Ä—Å–∞–ª—å–Ω–æ—Å—Ç—å** –¥–ª—è —Ä–∞–∑–ª–∏—á–Ω—ã—Ö —Ç–∏–ø–æ–≤ –∫–æ–Ω—Ç—Ä–∞–∫—Ç–æ–≤ –∏ —Ç–µ—Å—Ç–æ–≤